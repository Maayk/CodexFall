import{d as J,l as c,m as o,n as re,M as de,E as H,x as L,u as l,p as x,t as n,r as f,c as w,A as i,o as ue,w as Q,j as h,F as B,q as A,N as Y,B as _e,O as me,y as X,D as P,C as pe,z as he}from"./vue-vendor-G0iSA_D0.js";import{c as y,S as Z,_ as ee,a as ve,u as ke,P as N,C as ye}from"./index-DaGXhLW1.js";import{H as be,a as fe,A as ge}from"./AppLoading-Dde_98Hl.js";import{S as xe,a as Ce,I as Se}from"./ItemTooltip-DepjH5np.js";import"./i18n-BPm8mGUt.js";/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=y("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=y("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=y("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=y("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=y("chevrons-left",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=y("chevrons-right",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=y("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]);/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=y("gem",[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=y("rabbit",[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]]);/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=y("shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]),De={class:"app-input"},$e={class:"app-input__wrapper"},Pe=["type","placeholder","disabled"],Ie={key:0,class:"app-input__error"},Le=J({__name:"AppInput",props:{modelValue:{},type:{default:"text"},placeholder:{default:""},disabled:{type:Boolean,default:!1},error:{default:""},size:{default:"md"},showIcon:{type:Boolean,default:!1}},emits:["update:modelValue","focus","blur","enter"],setup(p,{expose:z,emit:M}){const r=p,b=M,_=f(),g=w({get:()=>r.modelValue,set:m=>b("update:modelValue",m)}),G=m=>{b("focus",m)},R=m=>{b("blur",m)},T=m=>{m.key==="Enter"&&b("enter")};return z({focus:()=>{var m;(m=_.value)==null||m.focus()}}),(m,v)=>(i(),c("div",De,[o("div",$e,[re(o("input",{ref_key:"inputRef",ref:_,"onUpdate:modelValue":v[0]||(v[0]=u=>g.value=u),type:p.type,placeholder:p.placeholder,disabled:p.disabled,class:H(["app-input__field",`app-input__field--${p.size}`,{"app-input__field--error":p.error,"app-input__field--disabled":p.disabled,"app-input__field--with-icon":p.showIcon}]),onFocus:G,onBlur:R,onKeydown:T},null,42,Pe),[[de,g.value]]),p.showIcon?(i(),L(l(Z),{key:0,size:20,class:"app-input__icon"})):x("",!0)]),p.error?(i(),c("span",Ie,n(p.error),1)):x("",!0)]))}}),Ve=ee(Le,[["__scopeId","data-v-f3c99788"]]),Ee={key:0,class:"codex__loading"},Fe={key:1,class:"codex__layout"},We={class:"codex__sidebar"},Ne={class:"codex__sidebar-section"},qe=["onClick"],je={key:0,class:"codex__sidebar-group-content"},Oe={key:0,class:"codex__sidebar-group-items"},Ue=["onClick"],Ke={key:1,class:"codex__sidebar-subgroups"},Qe=["onClick"],Ye={class:"codex__sidebar-subgroup-items"},Xe=["onClick"],Je={class:"codex__main"},Ze={class:"codex__header"},es={class:"codex__header-title"},ss={class:"codex__results-count"},os={class:"codex__search"},ts={class:"codex__table-container"},as={key:0,class:"codex__table"},ls={class:"col-name"},ns={class:"col-type"},is={class:"col-rarity"},cs={class:"col-level"},rs={class:"col-weight"},ds=["onClick","onMouseenter","onMousemove"],us={class:"col-name"},_s={class:"item-name-cell"},ms={class:"item-icon-wrapper"},ps=["src"],hs={class:"item-name-text"},vs={class:"item-id"},ks={class:"col-type"},ys={class:"col-rarity"},bs={class:"col-level"},fs={class:"col-weight"},gs={key:1,class:"codex__no-results"},xs={class:"codex__no-results-content"},Cs={class:"codex__no-results-title"},Ss={key:0,class:"codex__no-results-hint"},ws={key:0,class:"codex__pagination"},Ms=["disabled"],Bs=["disabled"],As={class:"codex__page-info"},Hs=["disabled"],zs=["disabled"],Gs=J({__name:"Codex",setup(p){const z=he(),M=pe(),{t:r,locale:b}=ve(),_=ke(),g=f(null),G=f(0),R=f(0),T=(e,t)=>{g.value=t,G.value=e.clientX,R.value=e.clientY},V=()=>{g.value=null},m=()=>{V()},v=f(""),u=f(M.params.category?M.params.category:"all"),k=f(1),E=f(20),q=f(!0);ue(async()=>{await _.loadData(),q.value=!1}),Q(()=>M.params.category,e=>{e&&(u.value=e,k.value=1)}),Q([v,u],()=>{k.value=1});const F=[{name:"Weapons",icon:xe,types:["Arcane Staff","Bow","Dual Axe","Dual Crossbow","Dual Dagger","Life Staff","Spear","Sword","Two Handed Sword","War Hammer"]},{name:"Armors",icon:Ce,subGroups:[{name:"Heavy",types:["Armor [Heavy]","Boots [Heavy]","Gauntlet [Heavy]","Helmet [Heavy]"]},{name:"Light",types:["Armor [Light]","Boots [Light]","Gauntlet [Light]","Helmet [Light]"]},{name:"Robe",types:["Armor [Robe]","Boots [Robe]","Gauntlet [Robe]","Helmet [Robe]"]},{name:"Other",types:["Shield"]}]},{name:"Accessories",icon:Ge,types:["Bag","Bracelet","Earring","Necklace","Ring","Talisman"]},{name:"Consumables",icon:ze,types:["Food","Potion","Supplement Potion"]},{name:"Tools",icon:be,types:["Axe [Tool]","Fishing Rod [Tool]","Hunting Knife [Tool]","Pickaxe [Tool]","Sickle [Tool]"]},{name:"Materials",icon:N,types:["Enhancement Material","Material","Quest Material","Usable Material","Rune Stone","Power Stone","Skill Stone","Puzzle Stone"]},{name:"Mounts & Pets",icon:Re,types:["Mount","Mount - Horseshoes","Mount - Saddle","Mount - Stirrups","Pet"]},{name:"Housing & Stations",icon:fe,types:["Alchemist’s Workbench","Auxiliary Workbenches","Blacksmith’s Forge","Carpenter's Workbench","Cook’s Workbench","Gem Cutting Workbench","Home Furnitures","Jewel Crafting Workbench","Loom","Sawmill","Smelter","Spinning Wheel","Tanning Rack","Tinkering Workbench","Essence Refiner","Beehive","Farmable Animal","Seed"]},{name:"Costumes",icon:Te,types:["Costume - Armor","Costume - Bow","Costume - Dual Axe","Costume - Dual Crossbow","Costume - Dual Dagger","Costume - Helmet","Costume - Mount","Costume - One Handed Sword","Costume - Pet","Costume - Quiver (Bow)","Costume - Quiver (Dual Crossbow)","Costume - Shield","Costume - Spear","Costume - Staff","Costume - Two Handed Sword","Costume - War Hammer"]},{name:"Skill Books",icon:we,types:["Skill Book [Arcane Staff]","Skill Book [Bow]","Skill Book [Dual Axe]","Skill Book [Dual Crossbow]","Skill Book [Dual Dagger]","Skill Book [Life Staff]","Skill Book [Spear]","Skill Book [Sword]","Skill Book [Two Handed Sword]","Skill Book [War Hammer]"]},{name:"Miscellaneous",icon:Me,types:["Arrow (Bow)","Arrow (Dual Crossbow)","Defense Vehicles","Merchant Ship","Pirate Ship","Power Card"]}];Object.keys(_.expandedGroups).length===0&&F.forEach(e=>{_.expandedGroups[e.name]=!1});const j=w(()=>_.expandedGroups),se=e=>{_.expandedGroups[e]=!_.expandedGroups[e]},oe=w(()=>{const e=new Set(_.items.map(t=>t.tip_loc_English).filter(Boolean));return F.map(t=>{let s=[],a=[];return t.types&&(s=t.types.filter(d=>e.has(d)).sort((d,S)=>d.localeCompare(S))),t.subGroups&&(a=t.subGroups.map(d=>({...d,types:d.types.filter(S=>e.has(S)).sort((S,ce)=>S.localeCompare(ce))})).filter(d=>d.types.length>0)),{...t,types:s,subGroups:a}}).filter(t=>{var s,a;return(((s=t.types)==null?void 0:s.length)||0)>0||(((a=t.subGroups)==null?void 0:a.length)||0)>0})}),W=w(()=>{let e=_.items;if(u.value!=="all"){let t=null;for(const s of F)if(s.subGroups){const a=s.subGroups.find(d=>d.name===u.value);if(a){t=a.types;break}}if(t){const s=new Set(t);e=e.filter(a=>s.has(a.tip_loc_English))}else e=e.filter(s=>s.tip_loc_English===u.value)}return v.value.trim()&&(e=_.searchItems(v.value),u.value!=="all"&&(e=e.filter(t=>t.tip_loc_English===u.value))),e}),C=w(()=>Math.ceil(W.value.length/E.value)),O=w(()=>{const e=(k.value-1)*E.value,t=e+E.value;return W.value.slice(e,t)}),te=e=>{z.push(`/item/${e}`)},D=e=>{u.value=e,z.push(`/codex/${e}`)},ae=e=>b.value==="pt-BR"?e.baslik_loc_Portuguese||e.baslik_loc_English||e.id:b.value==="en"?e.baslik_loc_English||e.id:b.value==="es"?e.baslik_loc_Spanish||e.baslik_loc_English||e.id:e[`baslik_loc_${b.value}`]||e.baslik_loc_English||e.id,le=e=>e==="all"?r("common.all")||"All Items":e,ne=e=>{const s={Weapons:"weapons",Armors:"armors",Accessories:"accessories",Consumables:"consumables",Tools:"tools",Materials:"materials","Mounts & Pets":"mountsPets","Housing & Stations":"housingStations",Costumes:"costumes","Skill Books":"skillBooks",Miscellaneous:"miscellaneous"}[e];return s?r(`codex.categories.${s}`):e},U=e=>({1:"common",2:"uncommon",3:"rare",4:"epic",5:"legendary"})[e]||"common",K=e=>{const t=U(e.default_grade);return{common:"#6e7681",uncommon:"#238636",rare:"#1f6feb",epic:"#8957e5",legendary:"#d29922"}[t]||"#6e7681"},ie=e=>{const t=U(e.default_grade);return r(`rarity.${t}`)||t},$=e=>{e>=1&&e<=C.value&&(k.value=e,window.scrollTo({top:0,behavior:"smooth"}))};return(e,t)=>(i(),c("div",{class:"codex",onMouseleave:m},[h(Se,{item:g.value,visible:!!g.value,x:G.value,y:R.value},null,8,["item","visible","x","y"]),q.value?(i(),c("div",Ee,[h(ge,{size:"lg",text:l(r)("common.loading")||"Carregando..."},null,8,["text"])])):(i(),c("div",Fe,[o("aside",We,[o("div",Ne,[o("div",{class:H(["codex__sidebar-item",{"codex__sidebar-item--active":u.value==="all"}]),onClick:t[0]||(t[0]=s=>D("all"))},[h(l(N),{size:18,class:"codex__sidebar-icon"}),o("span",null,n(l(r)("common.all")||"All Items"),1)],2),(i(!0),c(B,null,A(oe.value,s=>(i(),c("div",{key:s.name,class:"codex__sidebar-group"},[o("div",{class:"codex__sidebar-group-title",onClick:a=>se(s.name),style:{cursor:"pointer"}},[(i(),L(Y(j.value[s.name]?l(ye):l(I)),{size:16})),(i(),L(Y(s.icon),{size:14,style:{"margin-left":"-4px"}})),o("span",null,n(ne(s.name)),1)],8,qe),h(me,{name:"expand"},{default:_e(()=>[j.value[s.name]?(i(),c("div",je,[s.types&&s.types.length>0?(i(),c("div",Oe,[(i(!0),c(B,null,A(s.types,a=>(i(),c("div",{key:a,class:H(["codex__sidebar-item codex__sidebar-item--sub",{"codex__sidebar-item--active":u.value===a}]),onClick:d=>D(a)},[h(l(I),{size:14,class:"codex__sidebar-icon-sm"}),o("span",null,n(a),1)],10,Ue))),128))])):x("",!0),s.subGroups&&s.subGroups.length>0?(i(),c("div",Ke,[(i(!0),c(B,null,A(s.subGroups,a=>(i(),c("div",{key:a.name,class:"codex__sidebar-subgroup"},[o("div",{class:H(["codex__sidebar-subgroup-title",{"codex__sidebar-subgroup-title--active":u.value===a.name}]),onClick:d=>D(a.name)},[h(l(I),{size:14,class:"codex__sidebar-icon-sm"}),o("span",null,n(a.name),1)],10,Qe),o("div",Ye,[(i(!0),c(B,null,A(a.types,d=>(i(),c("div",{key:d,class:H(["codex__sidebar-item codex__sidebar-item--inner-sub",{"codex__sidebar-item--active":u.value===d}]),onClick:S=>D(d)},[t[7]||(t[7]=o("div",{class:"indent-connector"},null,-1)),o("span",null,n(d),1)],10,Xe))),128))])]))),128))])):x("",!0)])):x("",!0)]),_:2},1024)]))),128))])]),o("main",Je,[o("div",Ze,[o("div",es,[o("h1",null,n(le(u.value)),1),o("span",ss,n(l(r)("codex.itemsFound",{count:W.value.length})),1)]),o("div",os,[h(Ve,{modelValue:v.value,"onUpdate:modelValue":t[1]||(t[1]=s=>v.value=s),placeholder:l(r)("common.search")||"Pesquisar...","show-icon":!0},null,8,["modelValue","placeholder"])])]),o("div",ts,[O.value.length>0?(i(),c("table",as,[o("thead",null,[o("tr",null,[o("th",ls,n(l(r)("item.name")),1),o("th",ns,n(l(r)("item.type")),1),o("th",is,n(l(r)("item.rarity")),1),o("th",cs,n(l(r)("item.level")),1),o("th",rs,n(l(r)("common.weight")),1)])]),o("tbody",null,[(i(!0),c(B,null,A(O.value,s=>(i(),c("tr",{key:s.id,class:"codex__table-row",onClick:a=>te(s.id),onMouseenter:a=>T(a,s),onMouseleave:V,onMousemove:a=>T(a,s)},[o("td",us,[o("div",_s,[o("div",ms,[s.icon1?(i(),c("img",{key:0,src:l(_).getIconUrl(s.icon1),class:"item-icon"},null,8,ps)):(i(),L(l(N),{key:1,size:32,class:"item-icon-fallback"}))]),o("div",hs,[o("span",{class:"item-title",style:X({color:K(s)})},n(ae(s)),5),o("span",vs,"ID: "+n(s.id),1)])])]),o("td",ks,n(s.tip_loc_English||"-"),1),o("td",ys,[o("span",{class:"rarity-badge",style:X({color:K(s)})},n(ie(s)),5)]),o("td",bs,n(s.level>0?s.level:"-"),1),o("td",fs,n(s.weight||"-"),1)],40,ds))),128))])])):(i(),c("div",gs,[o("div",xs,[h(l(Z),{size:48,class:"codex__no-results-icon"}),o("h3",Cs,n(l(r)("common.noResults")||"No results found"),1),v.value?(i(),c("p",Ss,[P(n(l(r)("codex.noResultsFor")||"No items match")+' "',1),o("strong",null,n(v.value),1),t[8]||(t[8]=P('" ',-1))])):x("",!0),o("button",{class:"codex__clear-search",onClick:t[2]||(t[2]=s=>{v.value="",u.value="all"})},n(l(r)("codex.clearFilters")||"Clear filters"),1)])]))]),C.value>1?(i(),c("div",ws,[o("button",{class:"codex__page-btn",disabled:k.value===1,onClick:t[3]||(t[3]=s=>$(1))},[h(l(Ae),{size:16})],8,Ms),o("button",{class:"codex__page-btn",disabled:k.value===1,onClick:t[4]||(t[4]=s=>$(k.value-1))},[h(l(Be),{size:16})],8,Bs),o("div",As,[P(n(l(r)("common.page"))+" ",1),o("span",null,n(k.value),1),P(" "+n(l(r)("common.of"))+" ",1),o("span",null,n(C.value),1)]),o("button",{class:"codex__page-btn",disabled:k.value===C.value,onClick:t[5]||(t[5]=s=>$(k.value+1))},[h(l(I),{size:16})],8,Hs),o("button",{class:"codex__page-btn",disabled:k.value===C.value,onClick:t[6]||(t[6]=s=>$(C.value))},[h(l(He),{size:16})],8,zs)])):x("",!0)])]))],32))}}),Is=ee(Gs,[["__scopeId","data-v-aa1d17f3"]]);export{Is as default};
