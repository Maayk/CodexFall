import{d as J,o as O,w as Q,l as n,j as m,m as e,u as a,D as y,t as l,y as T,x as g,p,F as b,q as f,r as B,c as I,z as Z,C as ee,A as o}from"./vue-vendor-G0iSA_D0.js";import{c as j,a as se,u as te,P as $,S as ae,_ as ie}from"./index-BiDxTZ0a.js";import{A as le,H as D,a as V}from"./AppLoading-7ZSVr2M8.js";import{I as oe,W as ce,C as X,S as ne,a as _e}from"./ItemTooltip-BU_bPslg.js";import"./i18n-BPm8mGUt.js";/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=j("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=j("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]),ue={class:"item-details__container"},me={class:"item-details__header-nav"},pe={key:0,class:"item-details__loading"},he={key:1,class:"item-details__grid"},ve={class:"item-details__sidebar"},ke={class:"item-card"},ye={class:"item-card__icon-box"},ge=["src"],be={class:"item-card__title-area"},fe={class:"item-card__subtitle"},Ie={key:0},xe={key:1},we={class:"item-card__body"},Be={key:0,class:"item-card__description"},$e={key:1,class:"item-card__stats"},ze={key:0,class:"item-card__stat"},Ce={class:"stat-label"},Ee={class:"stat-value"},qe={key:1,class:"item-card__stat"},Me={class:"stat-label"},Se={class:"stat-value"},Re={key:2,class:"item-card__stat"},Te={class:"stat-label"},De={class:"stat-value"},Ae={key:3,class:"item-card__stat"},Le={class:"stat-label"},Ne={class:"stat-value"},Pe={key:4,class:"item-card__stat"},Ue={class:"stat-label"},He={class:"stat-value"},Fe={key:5,class:"item-card__stat"},Ve={class:"stat-label"},Xe={class:"stat-value"},je={class:"item-details__content-area"},Ke={key:0,class:"content-panel"},We={class:"panel-header"},Ye={class:"panel-title"},Ge={class:"panel-body"},Je={class:"stats-grid"},Oe={class:"stat-box__key"},Qe={class:"stat-box__value"},Ze={key:1,class:"content-panel"},es={class:"panel-header"},ss={class:"panel-title"},ts={class:"panel-badge"},as={class:"panel-body list-body"},is={class:"recipe-meta"},ls=["title"],os=["title"],cs={class:"ingredient-list"},ns=["onMouseenter","onMousemove"],_s=["onClick"],rs=["src"],ds={class:"ingredient-item__quantity"},us=["onClick"],ms={key:2,class:"content-panel"},ps={class:"panel-header"},hs={class:"panel-title"},vs={class:"panel-badge"},ks={class:"panel-body list-body"},ys={class:"ingredient-grid"},gs=["onMouseenter","onMousemove"],bs=["onClick"],fs=["src"],Is={class:"ingredient-item__quantity qty-blue"},xs=["onClick"],ws={key:3,class:"content-panel"},Bs={class:"panel-header"},$s={class:"panel-title"},zs={class:"panel-badge"},Cs={class:"panel-body list-body"},Es={class:"ingredient-grid"},qs={class:"ingredient-item__icon-wrapper"},Ms={class:"ingredient-item__name",style:{cursor:"default","text-decoration":"none"}},Ss={key:2,class:"item-details__placeholder"},Rs={class:"item-details__placeholder-text"},Ts=J({__name:"ItemDetails",setup(Ds){const K=Z(),A=ee(),{t:i,locale:h}=se(),d=te(),z=B(!0),x=B(null),L=B(0),N=B(0),w=(s,_)=>{const c=d.getItemById(_);c&&(x.value=c,L.value=s.clientX,N.value=s.clientY)},C=()=>{x.value=null},W=()=>{C()},P=async()=>{z.value=!0,await d.loadData(),z.value=!1};O(()=>{P()}),Q(()=>A.params.id,()=>{P()});const t=I(()=>d.getItemById(A.params.id)),E=I(()=>{if(!t.value)return[];const s=d.getRecipesForItem(t.value.id),_=new Map;for(const c of s){const v=c.requirements.map(r=>`${r.material_id}:${r.quantity}`).sort().join("|")+`-${c.time}-${c.exp}`;_.has(v)||_.set(v,c)}return Array.from(_.values())}),q=I(()=>{var c;if(!t.value)return[];const s=d.getRecipesUsingItem(t.value.id),_=new Map;for(const v of s){const r=((c=v.requirements.find(u=>u.material_id===t.value.id))==null?void 0:c.quantity)||"0",k=`${v.craft_item_id}-${r}`;_.has(k)||_.set(k,v)}return Array.from(_.values())}),M=I(()=>t.value?d.getBuildingsUsingItem(t.value.id):[]),U=I(()=>t.value?[{key:"accuracy",label:i("stats.accuracy")},{key:"armor_weight",label:i("stats.armor_weight")},{key:"atk_speed",label:i("stats.atk_speed")},{key:"casting_speed",label:i("stats.casting_speed")},{key:"evasion",label:i("stats.evasion")},{key:"extra_damage_boss",label:i("stats.extra_damage_boss")},{key:"extra_damage_mob",label:i("stats.extra_damage_mob")},{key:"hp",label:i("stats.hp")},{key:"hp_regen",label:i("stats.hp_regen")},{key:"magic_ap",label:i("stats.magic_ap")},{key:"magic_dp",label:i("stats.magic_dp")},{key:"mp",label:i("stats.mp")},{key:"mp_regen",label:i("stats.mp_regen")},{key:"physical_ap",label:i("stats.physical_ap")},{key:"physical_dp",label:i("stats.physical_dp")},{key:"speed",label:i("stats.speed")},{key:"purchase_price",label:i("stats.purchase_price")},{key:"sale_price",label:i("stats.sale_price")},{key:"repair_price",label:i("stats.repair_price")},{key:"weight",label:i("common.weight")}].filter(_=>t.value[_.key]!==void 0&&t.value[_.key]!==null&&Number(t.value[_.key])!==0).map(_=>({label:_.label,value:t.value[_.key]})):[]),H=()=>{K.back()},S=s=>s?h.value==="pt-BR"?s.baslik_loc_Portuguese||s.baslik_loc_English||s.id:h.value==="en"?s.baslik_loc_English||s.id:h.value==="es"?s.baslik_loc_Spanish||s.baslik_loc_English||s.id:s[`baslik_loc_${h.value}`]||s.baslik_loc_English||s.id:"",F=s=>s?h.value==="pt-BR"?s.aciklama_loc_Portuguese||s.aciklama_loc_English||"":h.value==="en"?s.aciklama_loc_English||"":h.value==="es"?s.aciklama_loc_Spanish||s.aciklama_loc_English||"":s[`aciklama_loc_${h.value}`]||s.aciklama_loc_English||"":"",Y=s=>s?h.value==="pt-BR"?s.baslik_loc_Portuguese||s.baslik_loc_English||s.baslik_loc_Turkish||i("item.building"):h.value==="en"?s.baslik_loc_English||s.baslik_loc_Turkish||i("item.building"):h.value==="es"?s.baslik_loc_Spanish||s.baslik_loc_English||s.baslik_loc_Turkish||i("item.building"):s[`baslik_loc_${h.value}`]||s.baslik_loc_English||s.baslik_loc_Turkish||i("item.building"):"",R=s=>({1:"#8b949e",2:"#3fb950",3:"#58a6ff",4:"#bc8cff",5:"#d29922"})[s]||"#8b949e",G=s=>{const c={1:"common",2:"uncommon",3:"rare",4:"epic",5:"legendary"}[s]||"common";return i(`rarity.${c}`)};return(s,_)=>(o(),n("div",{class:"item-details",onMouseleave:W},[m(oe,{item:x.value,visible:!!x.value,x:L.value,y:N.value},null,8,["item","visible","x","y"]),e("div",ue,[e("div",me,[e("button",{class:"item-details__back-btn",onClick:H},[m(a(re),{size:20,class:"item-details__back-icon"}),y(" "+l(a(i)("common.back")),1)])]),z.value?(o(),n("div",pe,[m(le,{size:"lg",text:a(i)("common.loading")||"Carregando..."},null,8,["text"])])):t.value?(o(),n("div",he,[e("aside",ve,[e("div",ke,[e("div",{class:"item-card__header",style:T({borderBottomColor:R(t.value.default_grade)})},[e("div",ye,[t.value.icon1?(o(),n("img",{key:0,src:a(d).getIconUrl(t.value.icon1),class:"item-card__icon"},null,8,ge)):(o(),g(a($),{key:1,size:48,class:"item-card__icon-fallback"}))]),e("div",be,[e("h2",{class:"item-card__name",style:T({color:R(t.value.default_grade)})},l(S(t.value)),5),e("div",fe,[e("span",{style:T({color:R(t.value.default_grade)})},l(G(t.value.default_grade)),5),t.value.tip_loc_English?(o(),n("span",Ie,"• "+l(t.value.tip_loc_English),1)):p("",!0),t.value.tier?(o(),n("span",xe,"• "+l(a(i)("common.tier"))+" "+l(t.value.tier),1)):p("",!0)])])],4),e("div",we,[F(t.value)?(o(),n("p",Be,l(F(t.value)),1)):p("",!0),t.value.weight||t.value.level||t.value.price||t.value.sale_price||t.value.repair_price||t.value.id?(o(),n("div",$e,[t.value.id?(o(),n("div",ze,[e("span",Ce,l(a(i)("common.itemID")),1),e("span",Ee,l(t.value.id),1)])):p("",!0),t.value.level?(o(),n("div",qe,[e("span",Me,l(a(i)("common.requiredLevel")),1),e("span",Se,l(t.value.level),1)])):p("",!0),t.value.weight?(o(),n("div",Re,[e("span",Te,[m(a(ce),{size:14,class:"inline-icon"}),y(" "+l(a(i)("common.weight")),1)]),e("span",De,l(t.value.weight),1)])):p("",!0),t.value.price?(o(),n("div",Ae,[e("span",Le,[m(a(X),{size:14,class:"inline-icon"}),y(" "+l(a(i)("stats.purchase_price")),1)]),e("span",Ne,l(t.value.price)+" "+l(a(i)("common.coins")),1)])):p("",!0),t.value.sale_price?(o(),n("div",Pe,[e("span",Ue,[m(a(X),{size:14,class:"inline-icon"}),y(" "+l(a(i)("stats.sale_price")),1)]),e("span",He,l(t.value.sale_price)+" "+l(a(i)("common.coins")),1)])):p("",!0),t.value.repair_price?(o(),n("div",Fe,[e("span",Ve,[m(a(D),{size:14,class:"inline-icon"}),y(" "+l(a(i)("stats.repair_price")),1)]),e("span",Xe,l(t.value.repair_price)+" "+l(a(i)("common.coins")),1)])):p("",!0)])):p("",!0)])])]),e("main",je,[U.value.length>0?(o(),n("section",Ke,[e("div",We,[t.value.tip_loc_English==="Sword"||t.value.tip_loc_English==="Bow"||t.value.tip_loc_English==="Dagger"?(o(),g(a(ne),{key:0,size:20,class:"panel-icon"})):(o(),g(a(_e),{key:1,size:20,class:"panel-icon"})),e("h3",Ye,l(a(i)("item.equipmentStats")),1)]),e("div",Ge,[e("div",Je,[(o(!0),n(b,null,f(U.value,c=>(o(),n("div",{class:"stat-box",key:c.label},[e("span",Oe,l(c.label),1),e("span",Qe,l(c.value),1)]))),128))])])])):p("",!0),E.value.length>0?(o(),n("section",Ze,[e("div",es,[m(a(D),{size:20,class:"panel-icon"}),e("h3",ss,l(a(i)("item.craftingRecipes")),1),e("span",ts,l(E.value.length),1)]),e("div",as,[(o(!0),n(b,null,f(E.value,(c,v)=>(o(),n("div",{key:v,class:"recipe-row"},[e("div",is,[e("div",{class:"recipe-meta__item",title:a(i)("item.craftTimeLabel")},[m(a(de),{size:16,class:"meta-icon"}),e("span",null,l(c.time||0)+"s",1)],8,ls),e("div",{class:"recipe-meta__item",title:a(i)("item.professionExp")},[m(a(D),{size:16,class:"meta-icon"}),e("span",null,l(c.exp||0)+" XP",1)],8,os)]),e("div",cs,[(o(!0),n(b,null,f(c.requirements,r=>{var k;return o(),n("div",{key:r.material_id,class:"ingredient-item",onMouseenter:u=>w(u,r.material_id),onMouseleave:C,onMousemove:u=>w(u,r.material_id)},[e("div",{class:"ingredient-item__icon-wrapper",onClick:u=>s.$router.push(`/item/${r.material_id}`)},[(k=a(d).getItemById(r.material_id))!=null&&k.icon1?(o(),n("img",{key:0,src:a(d).getIconUrl(a(d).getItemById(r.material_id).icon1),class:"ingredient-item__icon"},null,8,rs)):(o(),g(a($),{key:1,size:24,class:"ingredient-item__icon-fallback"})),e("span",ds,"x"+l(parseInt(r.quantity,10)),1)],8,_s),e("span",{class:"ingredient-item__name",onClick:u=>s.$router.push(`/item/${r.material_id}`)},l(S(a(d).getItemById(r.material_id))||r.material_id),9,us)],40,ns)}),128))])]))),128))])])):p("",!0),q.value.length>0?(o(),n("section",ms,[e("div",ps,[m(a($),{size:20,class:"panel-icon"}),e("h3",hs,l(a(i)("item.usedAsIngredient")),1),e("span",vs,l(q.value.length),1)]),e("div",ks,[e("div",ys,[(o(!0),n(b,null,f(q.value,(c,v)=>{var r,k;return o(),n("div",{key:v,class:"ingredient-item",onMouseenter:u=>w(u,c.craft_item_id),onMouseleave:C,onMousemove:u=>w(u,c.craft_item_id)},[e("div",{class:"ingredient-item__icon-wrapper",onClick:u=>s.$router.push(`/item/${c.craft_item_id}`)},[(r=a(d).getItemById(c.craft_item_id))!=null&&r.icon1?(o(),n("img",{key:0,src:a(d).getIconUrl(a(d).getItemById(c.craft_item_id).icon1),class:"ingredient-item__icon"},null,8,fs)):(o(),g(a($),{key:1,size:24,class:"ingredient-item__icon-fallback"})),e("span",Is,"x"+l(parseInt(((k=c.requirements.find(u=>u.material_id===t.value.id))==null?void 0:k.quantity)||"0",10)),1)],8,bs),e("span",{class:"ingredient-item__name",onClick:u=>s.$router.push(`/item/${c.craft_item_id}`)},l(S(a(d).getItemById(c.craft_item_id))||c.craft_item_id),9,xs)],40,gs)}),128))])])])):p("",!0),M.value.length>0?(o(),n("section",ws,[e("div",Bs,[m(a(V),{size:20,class:"panel-icon"}),e("h3",$s,l(a(i)("item.usedToBuild")),1),e("span",zs,l(M.value.length),1)]),e("div",Cs,[e("div",Es,[(o(!0),n(b,null,f(M.value,(c,v)=>(o(),n("div",{key:v,class:"ingredient-item"},[e("div",qs,[m(a(V),{size:24,class:"ingredient-item__icon-fallback"})]),e("span",Ms,l(Y(c)),1)]))),128))])])])):p("",!0)])])):(o(),n("div",Ss,[m(a(ae),{size:64,class:"item-details__placeholder-icon"}),e("p",Rs,l(a(i)("item.mysteriouslyNotFound")),1),e("button",{class:"item-details__back-btn",onClick:H},l(a(i)("common.back")),1)]))])],32))}}),Hs=ie(Ts,[["__scopeId","data-v-fe0ac952"]]);export{Hs as default};
