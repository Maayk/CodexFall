import{d as ae,r as w,o as le,w as Y,l as c,j as p,m as e,u as i,D as f,t as o,Q,F as k,q as y,y as E,x as A,p as r,E as W,c as x,z as ie,C as oe,A as n}from"./vue-vendor-Dxj20eSI.js";import{c as P,a as ne,u as ce,P as q,S as de,n as N,_ as _e}from"./index-j0RH3vTk.js";import{I as re,C as Z}from"./ItemTooltip-Df3CgK3f.js";import{H as D,a as J}from"./house-DrYcMyLt.js";import"./i18n-C2WvjOPs.js";/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=P("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=P("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]);/**
 * @license lucide-vue-next v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=P("weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]),pe={class:"item-details__container"},he={class:"item-details__header-nav"},ke={key:0,class:"item-details__grid item-details__skeleton"},ye={class:"item-details__sidebar"},ge={class:"skeleton-card"},be={class:"skeleton-card__body"},fe={class:"skeleton-stats-list"},xe={class:"item-details__content-area"},Ie={class:"skeleton-panel__body"},we={class:"skeleton-grid"},Me={key:1,class:"item-details__grid"},$e={class:"item-details__sidebar"},Be={class:"item-card"},Ce={class:"item-card__icon-box"},Ee=["src"],qe={class:"item-card__title-area"},ze={class:"item-card__subtitle"},Se={key:0},Re={key:1},Le={key:0,class:"item-card__simulator"},Te={class:"simulator-buttons"},Ae=["onClick","title"],Ne={class:"item-card__body"},De={key:0,class:"item-card__description"},Pe={key:1,class:"item-card__stats"},He={key:0,class:"item-card__stat"},Ue={class:"stat-label"},Ve={class:"stat-value"},Fe={key:1,class:"item-card__stat"},Ge={class:"stat-label"},je={class:"stat-value"},Xe={key:2,class:"item-card__stat"},Ke={class:"stat-label"},Ye={class:"stat-value"},Qe={key:3,class:"item-card__stat"},We={class:"stat-label"},Ze={class:"stat-value"},Je={key:4,class:"item-card__stat"},Oe={class:"stat-label"},es={class:"stat-value"},ss={key:5,class:"item-card__stat"},ts={class:"stat-label"},as={class:"stat-value"},ls={key:6,class:"item-card__stat"},is={class:"stat-label"},os={class:"stat-value"},ns={key:7,class:"item-card__stat"},cs={class:"stat-label"},ds={class:"stat-value"},_s={class:"item-details__content-area"},rs={key:0,class:"content-panel"},us={class:"panel-header"},ms={class:"panel-title"},vs={class:"panel-body"},ps={class:"stats-grid"},hs={class:"stat-box__key"},ks={class:"stat-box__value"},ys={key:0,class:"stat-box__indicator"},gs={key:1,class:"content-panel"},bs={class:"panel-header"},fs={class:"panel-title"},xs={class:"panel-badge"},Is={class:"panel-body list-body"},ws={class:"recipe-meta"},Ms=["title"],$s=["title"],Bs={class:"ingredient-list"},Cs=["onMouseenter","onMousemove"],Es=["onClick"],qs=["src"],zs={class:"ingredient-item__quantity"},Ss=["onClick"],Rs={key:2,class:"content-panel"},Ls={class:"panel-header"},Ts={class:"panel-title"},As={class:"panel-badge"},Ns={class:"panel-body list-body"},Ds={class:"ingredient-grid"},Ps=["onMouseenter","onMousemove"],Hs=["onClick"],Us=["src"],Vs={class:"ingredient-item__quantity qty-blue"},Fs=["onClick"],Gs={key:3,class:"content-panel"},js={class:"panel-header"},Xs={class:"panel-title"},Ks={class:"panel-badge"},Ys={class:"panel-body list-body"},Qs={class:"ingredient-grid"},Ws={class:"ingredient-item__icon-wrapper"},Zs={class:"ingredient-item__name",style:{cursor:"default","text-decoration":"none"}},Js={key:2,class:"item-details__placeholder"},Os={class:"item-details__placeholder-text"},et=ae({__name:"ItemDetails",setup(st){const O=ie(),H=oe(),{t:a,locale:h}=ne(),u=ce(),z=w(!u.isLoaded),M=w(null),U=w(0),V=w(0),$=(t,d)=>{const l=u.getItemById(d);l&&(M.value=l,U.value=t.clientX,V.value=t.clientY)},B=()=>{M.value=null},ee=()=>{B()},F=async()=>{u.isLoaded||(z.value=!0,await u.loadData()),z.value=!1};le(()=>{F()}),Y(()=>H.params.id,()=>{B(),F()});const s=x(()=>u.getItemById(H.params.id)),S=x(()=>{if(!s.value)return[];const t=u.getRecipesForItem(s.value.id),d=new Map;for(const l of t){const m=l.requirements.map(_=>`${_.material_id}:${_.quantity}`).sort().join("|")+`-${l.time}-${l.exp}`;d.has(m)||d.set(m,l)}return Array.from(d.values())}),R=x(()=>{var l;if(!s.value)return[];const t=u.getRecipesUsingItem(s.value.id),d=new Map;for(const m of t){const _=((l=m.requirements.find(v=>v.material_id===s.value.id))==null?void 0:l.quantity)||"0",g=`${m.craft_item_id}-${_}`;d.has(g)||d.set(g,m)}return Array.from(d.values())}),L=x(()=>s.value?u.getBuildingsUsingItem(s.value.id):[]),G=x(()=>s.value?[{key:"accuracy",label:a("stats.accuracy")},{key:"armor_weight",label:a("stats.armor_weight")},{key:"atk_speed",label:a("stats.atk_speed")},{key:"casting_speed",label:a("stats.casting_speed")},{key:"evasion",label:a("stats.evasion")},{key:"extra_damage_boss",label:a("stats.extra_damage_boss")},{key:"extra_damage_mob",label:a("stats.extra_damage_mob")},{key:"hp",label:a("stats.hp")},{key:"hp_regen",label:a("stats.hp_regen")},{key:"magic_ap",label:a("stats.magic_ap")},{key:"magic_dp",label:a("stats.magic_dp")},{key:"mp",label:a("stats.mp")},{key:"mp_regen",label:a("stats.mp_regen")},{key:"physical_ap",label:a("stats.physical_ap")},{key:"physical_dp",label:a("stats.physical_dp")},{key:"speed",label:a("stats.speed")},{key:"purchase_price",label:a("stats.purchase_price")},{key:"sale_price",label:a("stats.sale_price")},{key:"repair_price",label:a("stats.repair_price")},{key:"weight",label:a("common.weight")}].filter(d=>s.value[d.key]!==void 0&&s.value[d.key]!==null&&Number(s.value[d.key])!==0).map(d=>{let l=s.value[d.key];return["purchase_price","sale_price","repair_price"].includes(d.key)&&(l=`${l} ${a("common.coins")}`),{label:d.label,value:l,isModified:!1}}):[]),j=()=>{O.back()},T=t=>t?h.value==="pt-BR"?t.baslik_loc_Portuguese||t.baslik_loc_English||t.id:h.value==="en"?t.baslik_loc_English||t.id:h.value==="es"?t.baslik_loc_Spanish||t.baslik_loc_English||t.id:t[`baslik_loc_${h.value}`]||t.baslik_loc_English||t.id:"",X=t=>t?h.value==="pt-BR"?t.aciklama_loc_Portuguese||t.aciklama_loc_English||"":h.value==="en"?t.aciklama_loc_English||"":h.value==="es"?t.aciklama_loc_Spanish||t.aciklama_loc_English||"":t[`aciklama_loc_${h.value}`]||t.aciklama_loc_English||"":"",se=t=>t?h.value==="pt-BR"?t.baslik_loc_Portuguese||t.baslik_loc_English||t.baslik_loc_Turkish||a("item.building"):h.value==="en"?t.baslik_loc_English||t.baslik_loc_Turkish||a("item.building"):h.value==="es"?t.baslik_loc_Spanish||t.baslik_loc_English||t.baslik_loc_Turkish||a("item.building"):t[`baslik_loc_${h.value}`]||t.baslik_loc_English||t.baslik_loc_Turkish||a("item.building"):"",C=t=>{const d=N(t);return{1:"#e6edf3",2:"#3fb950",3:"#58a6ff",4:"#bc8cff",5:"#d29922"}[d]||"#e6edf3"},K=t=>{const d=N(t),m={1:"common",2:"uncommon",3:"rare",4:"epic",5:"legendary"}[d]||"common";return a(`rarity.${m}`)},te=t=>a(t===0?"stats.gender_both":t===1?"stats.gender_male":t===2?"stats.gender_female":"stats.gender_unknown"),I=x(()=>s.value?["Sword","Staff","Bow","Dagger","Mace","Spear","Axe","Shield","Greatsword","Helmet","Armor","Pants","Gloves","Shoes","Ring","Necklace","Earring","Belt","Axe [Tool]","Pickaxe [Tool]","Sickle [Tool]","Fishing Rod [Tool]"].includes(s.value.tip_loc_English)||s.value.tip_loc_English.includes("[Heavy]")||s.value.tip_loc_English.includes("[Medium]")||s.value.tip_loc_English.includes("[Light]"):!1),b=w(1);return Y(()=>s.value,t=>{t&&(b.value=N(t))},{immediate:!0}),(t,d)=>(n(),c("div",{class:"item-details",onMouseleave:ee},[p(re,{item:M.value,visible:!!M.value,x:U.value,y:V.value},null,8,["item","visible","x","y"]),e("div",pe,[e("div",he,[e("button",{class:"item-details__back-btn",onClick:j},[p(i(ue),{size:20,class:"item-details__back-icon"}),f(" "+o(i(a)("common.back")),1)])]),z.value?(n(),c("div",ke,[e("aside",ye,[e("div",ge,[d[1]||(d[1]=Q('<div class="skeleton-card__header" data-v-edd7aa6c><div class="skeleton-icon-lg" data-v-edd7aa6c></div><div class="skeleton-title-area" data-v-edd7aa6c><div class="skeleton-text-title" data-v-edd7aa6c></div><div class="skeleton-text-subtitle" data-v-edd7aa6c></div></div></div>',1)),e("div",be,[(n(),c(k,null,y(3,l=>e("div",{class:"skeleton-text-desc",key:l})),64)),e("div",fe,[(n(),c(k,null,y(5,l=>e("div",{class:"skeleton-stat-row",key:l},[...d[0]||(d[0]=[e("div",{class:"skeleton-text-label"},null,-1),e("div",{class:"skeleton-text-value"},null,-1)])])),64))])])])]),e("main",xe,[(n(),c(k,null,y(2,l=>e("section",{class:"skeleton-panel",key:"panel-"+l},[d[3]||(d[3]=e("div",{class:"skeleton-panel__header"},[e("div",{class:"skeleton-icon-sm"}),e("div",{class:"skeleton-text-heading"})],-1)),e("div",Ie,[e("div",we,[(n(),c(k,null,y(6,m=>e("div",{class:"skeleton-box",key:"box-"+m},[...d[2]||(d[2]=[e("div",{class:"skeleton-text-label-sm"},null,-1),e("div",{class:"skeleton-text-value-lg"},null,-1)])])),64))])])])),64))])])):s.value?(n(),c("div",Me,[e("aside",$e,[e("div",Be,[e("div",{class:"item-card__header",style:E({borderBottomColor:C(I.value?b.value:s.value)})},[e("div",Ce,[s.value.icon1?(n(),c("img",{key:0,src:i(u).getIconUrl(s.value.icon1),class:"item-card__icon"},null,8,Ee)):(n(),A(i(q),{key:1,size:48,class:"item-card__icon-fallback"}))]),e("div",qe,[e("h2",{class:"item-card__name",style:E({color:C(I.value?b.value:s.value)})},o(T(s.value)),5),e("div",ze,[e("span",{style:E({color:C(I.value?b.value:s.value)})},o(K(I.value?b.value:s.value)),5),s.value.tip_loc_English?(n(),c("span",Se,"• "+o(s.value.tip_loc_English),1)):r("",!0),s.value.tier?(n(),c("span",Re,"• "+o(i(a)("common.tier"))+" "+o(s.value.tier),1)):r("",!0)])])],4),I.value?(n(),c("div",Le,[d[4]||(d[4]=e("label",{class:"simulator-label"},"Simular Raridade",-1)),e("div",Te,[(n(),c(k,null,y(5,l=>e("button",{key:l,class:W(["simulator-btn",{"is-active":b.value===l}]),style:E({"--btn-color":C(l)}),onClick:m=>b.value=l,title:K(l)},null,14,Ae)),64))])])):r("",!0),e("div",Ne,[X(s.value)?(n(),c("p",De,o(X(s.value)),1)):r("",!0),s.value.weight||s.value.level||s.value.price||s.value.sale_price||s.value.repair_price||s.value.id||s.value.gender!==void 0||s.value.icon2||s.value.satis_kapali!==void 0?(n(),c("div",Pe,[s.value.id?(n(),c("div",He,[e("span",Ue,o(i(a)("common.itemID")),1),e("span",Ve,o(s.value.id),1)])):r("",!0),s.value.level?(n(),c("div",Fe,[e("span",Ge,o(i(a)("common.requiredLevel")),1),e("span",je,o(s.value.level),1)])):r("",!0),s.value.gender!==void 0&&s.value.gender!==null?(n(),c("div",Xe,[e("span",Ke,o(i(a)("stats.gender")),1),e("span",Ye,o(te(s.value.gender)),1)])):r("",!0),s.value.satis_kapali!==void 0&&s.value.satis_kapali!==null?(n(),c("div",Qe,[e("span",We,o(i(a)("stats.salis_closed")),1),e("span",Ze,o(s.value.satis_kapali===0?i(a)("common.yes"):i(a)("common.no")),1)])):r("",!0),s.value.weight?(n(),c("div",Je,[e("span",Oe,[p(i(ve),{size:14,class:"inline-icon"}),f(" "+o(i(a)("common.weight")),1)]),e("span",es,o(s.value.weight),1)])):r("",!0),s.value.price?(n(),c("div",ss,[e("span",ts,[p(i(Z),{size:14,class:"inline-icon"}),f(" "+o(i(a)("stats.purchase_price")),1)]),e("span",as,o(s.value.price)+" "+o(i(a)("common.coins")),1)])):r("",!0),s.value.sale_price?(n(),c("div",ls,[e("span",is,[p(i(Z),{size:14,class:"inline-icon"}),f(" "+o(i(a)("stats.sale_price")),1)]),e("span",os,o(s.value.sale_price)+" "+o(i(a)("common.coins")),1)])):r("",!0),s.value.repair_price?(n(),c("div",ns,[e("span",cs,[p(i(D),{size:14,class:"inline-icon"}),f(" "+o(i(a)("stats.repair_price")),1)]),e("span",ds,o(s.value.repair_price)+" "+o(i(a)("common.coins")),1)])):r("",!0)])):r("",!0)])])]),e("main",_s,[G.value.length>0?(n(),c("section",rs,[e("div",us,[d[5]||(d[5]=Q('<div class="panel-icon" style="display:flex;align-items:center;" data-v-edd7aa6c><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-edd7aa6c><path d="M14.5 17.5L3 6V3h3l11.5 11.5" data-v-edd7aa6c></path><path d="M13 19l6-6" data-v-edd7aa6c></path><path d="M16 16l4 4" data-v-edd7aa6c></path><path d="M19 21l2-2" data-v-edd7aa6c></path><path d="M14.5 14.5L19 10l-4.5-4.5L10 10l4.5 4.5z" data-v-edd7aa6c></path></svg></div>',1)),e("h3",ms,o(i(a)("item.equipmentStats")),1)]),e("div",vs,[e("div",ps,[(n(!0),c(k,null,y(G.value,l=>(n(),c("div",{class:W(["stat-box",{"is-modified":l.isModified}]),key:l.label},[e("span",hs,o(l.label),1),e("span",ks,[f(o(l.value)+" ",1),l.isModified?(n(),c("span",ys,"▲")):r("",!0)])],2))),128))])])])):r("",!0),S.value.length>0?(n(),c("section",gs,[e("div",bs,[p(i(D),{size:20,class:"panel-icon"}),e("h3",fs,o(i(a)("item.craftingRecipes")),1),e("span",xs,o(S.value.length),1)]),e("div",Is,[(n(!0),c(k,null,y(S.value,(l,m)=>(n(),c("div",{key:m,class:"recipe-row"},[e("div",ws,[e("div",{class:"recipe-meta__item",title:i(a)("item.craftTimeLabel")},[p(i(me),{size:16,class:"meta-icon"}),e("span",null,o(l.time||0)+"s",1)],8,Ms),e("div",{class:"recipe-meta__item",title:i(a)("item.professionExp")},[p(i(D),{size:16,class:"meta-icon"}),e("span",null,o(l.exp||0)+" XP",1)],8,$s)]),e("div",Bs,[(n(!0),c(k,null,y(l.requirements,_=>{var g;return n(),c("div",{key:_.material_id,class:"ingredient-item",onMouseenter:v=>$(v,_.material_id),onMouseleave:B,onMousemove:v=>$(v,_.material_id)},[e("div",{class:"ingredient-item__icon-wrapper",onClick:v=>t.$router.push(`/item/${_.material_id}`)},[(g=i(u).getItemById(_.material_id))!=null&&g.icon1?(n(),c("img",{key:0,src:i(u).getIconUrl(i(u).getItemById(_.material_id).icon1),class:"ingredient-item__icon"},null,8,qs)):(n(),A(i(q),{key:1,size:24,class:"ingredient-item__icon-fallback"})),e("span",zs,"x"+o(parseInt(_.quantity,10)),1)],8,Es),e("span",{class:"ingredient-item__name",onClick:v=>t.$router.push(`/item/${_.material_id}`)},o(T(i(u).getItemById(_.material_id))||_.material_id),9,Ss)],40,Cs)}),128))])]))),128))])])):r("",!0),R.value.length>0?(n(),c("section",Rs,[e("div",Ls,[p(i(q),{size:20,class:"panel-icon"}),e("h3",Ts,o(i(a)("item.usedAsIngredient")),1),e("span",As,o(R.value.length),1)]),e("div",Ns,[e("div",Ds,[(n(!0),c(k,null,y(R.value,(l,m)=>{var _,g;return n(),c("div",{key:m,class:"ingredient-item",onMouseenter:v=>$(v,l.craft_item_id),onMouseleave:B,onMousemove:v=>$(v,l.craft_item_id)},[e("div",{class:"ingredient-item__icon-wrapper",onClick:v=>t.$router.push(`/item/${l.craft_item_id}`)},[(_=i(u).getItemById(l.craft_item_id))!=null&&_.icon1?(n(),c("img",{key:0,src:i(u).getIconUrl(i(u).getItemById(l.craft_item_id).icon1),class:"ingredient-item__icon"},null,8,Us)):(n(),A(i(q),{key:1,size:24,class:"ingredient-item__icon-fallback"})),e("span",Vs,"x"+o(parseInt(((g=l.requirements.find(v=>v.material_id===s.value.id))==null?void 0:g.quantity)||"0",10)),1)],8,Hs),e("span",{class:"ingredient-item__name",onClick:v=>t.$router.push(`/item/${l.craft_item_id}`)},o(T(i(u).getItemById(l.craft_item_id))||l.craft_item_id),9,Fs)],40,Ps)}),128))])])])):r("",!0),L.value.length>0?(n(),c("section",Gs,[e("div",js,[p(i(J),{size:20,class:"panel-icon"}),e("h3",Xs,o(i(a)("item.usedToBuild")),1),e("span",Ks,o(L.value.length),1)]),e("div",Ys,[e("div",Qs,[(n(!0),c(k,null,y(L.value,(l,m)=>(n(),c("div",{key:m,class:"ingredient-item"},[e("div",Ws,[p(i(J),{size:24,class:"ingredient-item__icon-fallback"})]),e("span",Zs,o(se(l)),1)]))),128))])])])):r("",!0)])])):(n(),c("div",Js,[p(i(de),{size:64,class:"item-details__placeholder-icon"}),e("p",Os,o(i(a)("item.mysteriouslyNotFound")),1),e("button",{class:"item-details__back-btn",onClick:j},o(i(a)("common.back")),1)]))])],32))}}),nt=_e(et,[["__scopeId","data-v-edd7aa6c"]]);export{nt as default};
